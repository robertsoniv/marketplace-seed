<div class="l-cups-wrapper" ng-class="{'toggled': isToggled}">
    <!--<header class="c-header c-header--fixed-top">
        <nav ui-view="nav"></nav>
    </header>-->
    <aside class="l-cups-wrapper__sidebar">
        <nav class="c-cups-sidebar">
            <header class="c-cups-sidebar__header">
                <a ui-sref="home" class="c-cups-sidebar__brand" data-ng-click="isToggled = !isToggled"><img src="assets/images/cupslogodark.svg" alt="CUPS"></a>
            </header>
            <ul class="nav nav-pills nav-stacked c-cups-nav--stacked">

                <li>
                    <a href="" ui-sref="productBrowse({favorites:'', categoryid:'',suppliers:'', sortBy:''})">All Products</a>
                </li>
                <li class="c-cups-nav__header">Categories</li>
                <li><a ui-sref="favoriteProducts" data-ng-click="isToggled = !isToggled">Favorite Products</a></li>
                <treecontrol class="oc-tree c-cups-sidebar__tree"
                             tree-model="base.treeData"
                             options="base.treeOptions"
                             selected-node="base.selectedNode"
                             expanded-nodes="base.expandedNodes"
                             on-selection="base.selectNode(node)">
                    {{node.Name}}
                </treecontrol>
                <li class="c-cups-nav__divider"></li>
                <li class="c-cups-nav__header">Suppliers</li>
                <li class="c-supplier-nav" ng-repeat="supplier in base.suppliers.Items">
                    <a ng-click="base.toggleSupplier(supplier)">
                        <i class="fa c-checkbox" ng-class="{
                            'fa-cups-checkbox': base.parameters.suppliers.indexOf(supplier.ID) == -1 || !base.parameters.suppliers,
                            'fa-cups-checkbox-checked': base.parameters.suppliers.indexOf(supplier.ID) > -1
                        }"></i>
                        {{supplier.CompanyName}}
                    </a>
                </li>
                <li class="c-cups-nav__divider"></li>
                <li class="c-cups-nav__header">Account</li>
                <li><a ui-sref="account.settings" data-ng-click="isToggled = !isToggled">Settings</a></li>
                <li><a ui-sref="myAddresses" data-ng-click="isToggled = !isToggled">Addresses</a></li>
                <li class="c-cups-nav__divider"></li>
                <li><a ng-click="application.logout()" data-ng-click="isToggled = !isToggled">Logout</a></li>
            </ul>
        </nav>
    </aside>
    <div class="l-cups-wrapper__content">
        <header class="c-cups-header c-cups-header--fixed-top">
            <nav class="c-cups-topnav clearfix">
                <div class="c-topnav__item hidden-lg hidden-md hidden-sm">
                    <button class="c-cups-sidebar__toggle" data-ng-click="isToggled = !isToggled">
                        <span></span><span></span><span></span><span></span>
                    </button>
                </div>
                <!--<div class="c-topnav__item c-topnav__search hidden-lg hidden-md">
                    <a href="" ng-click="base.mobileSearch()"><i class="fa fa-search"></i></a>
                </div>-->
                <ordercloud-product-search class="c-topnav__item c-topnav__search"></ordercloud-product-search>
                <div class="c-topnav__item c-topnav__cart">
                    <a ui-sref="cart" ui-sref-opts="{reload:'base'}"><span class="badge c-topnav__cart-count" ng-bind="base.currentOrder.LineItemCount"></span><i class="fa fa-cups-cart fa-2x"></i> <span class="sr-only">Shopping Cart</span></a>
                </div>
            </nav>
        </header>
        <div class="container-fluid">
            <main ui-view cg-busy="application.stateLoading"></main>
        </div>
    </div>
</div>
